syntax = "proto3";

import "org/seekers/game/vector2d.proto";
import "org/seekers/game/camp.proto";
import "org/seekers/game/goal.proto";
import "org/seekers/game/player.proto";
import "org/seekers/game/seeker.proto";
option java_multiple_files = true;
option optimize_for = SPEED;
option java_package = "org.seekers.grpc.net";
option java_outer_classname = "SeekersProto";
service Seekers {
	rpc Properties (PropertiesRequest) returns (PropertiesResponse);
	rpc Status (StatusRequest) returns (StatusResponse);
	rpc Command (CommandRequest) returns (CommandResponse);
}

message PropertiesRequest {
}

message PropertiesResponse {
	map < string, string > entries = 1;
}

message StatusRequest {
	string token = 1;
}

message StatusResponse {
	repeated Player players = 1;
	repeated Camp camps = 2;
	repeated Seeker seekers = 3;
	repeated Goal goals = 4;
	double passed_playtime = 5;
}

message CommandRequest {
	string token = 1;
	string seeker_id = 2;
	Vector2D target = 3;
	double magnet = 4;
}

message CommandResponse {
}